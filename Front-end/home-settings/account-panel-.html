<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title>Account panel</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Linden+Hill%3A400" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A400" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter%3A400" />
  <link rel="stylesheet" href="./styles/account-panel-.css" />
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
</head>

<body>
  <div class="account-panel--gzF">
    <img class="healthicons-ui-user-profile-Pdm" id="profilePic" src="./assets/healthicons-ui-user-profile.png" />
    <p class="set"onclick="showPictureInput()">SET <span class="yellow">NEW</span> PHOTO</p>
    <form id="editAccountForm" action="https://localhost/Arm-mo/Arm-mo-Fork/Back-end/EditAccount.php" method="POST" enctype="multipart/form-data">
      <input type="email" name="username" class="email-QYs" placeholder="Username" />
      <input type="text" name="firstname" class="firstname-box-hH5" placeholder="Firstname" />
      <input type="text" name="lastname" class="lastname-box-Pvb" placeholder="Lastname" />
      <input type="file" name="profilepic" id="pictureInput" accept="image/*" style="display: none;" />
      <div class="dateofbirth-box-RGw">
        <label>Date of birth</label>
        <input type="date" name="dob" class="datePicker">
      </div>
      <button class="edit-button-ap3" onclick="submitForm()">
        Edit Account
      </button>
    </form>
  </div>

  <script>
    function submitForm() {
      document.getElementById('editAccountForm').submit();
    }
    function handlePictureSelection(event) {
      const selectedFile = event.target.files[0];
      const imageUrl = URL.createObjectURL(selectedFile);

      // Update the profilePic element with the selected image
      const profilePic = document.getElementById('profilePic');
      profilePic.src = imageUrl;
    }

    function showPictureInput() {
      const pictureInput = document.getElementById('pictureInput');
      pictureInput.click();
    }

    document.getElementById('pictureInput').addEventListener('change', handlePictureSelection);
  </script>

  <script>
    $('.eye.one').on('click', function () {
      $('.old-password-hK1').attr('type', function (index, attr) {
        return attr === 'password' ? 'text' : 'password';
      });
      $('.eye.one').toggleClass('fas fa-eye-slash fas fa-eye');
    });

    $('.eye.two').on('click', function () {
      $('.new-password-N3m').attr('type', function (index, attr) {
        return attr === 'password' ? 'text' : 'password';
      });
      $('.eye.two').toggleClass('fas fa-eye-slash fas fa-eye');
    });
  </script>
</body>
</html>